<!DOCTYPE html>
<html lang="en">
  <head>
    <meta
      charset="UTF-8"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>
      Marijn Baar |
      Programmer •
      Consultant •
      Innovator
    </title>
    <!-- Tailwind CSS (via CDN for prototyping) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      /* Custom color palette */
      :root {
        --primary: #3b82f6;
        --primary-dark: #2563eb;
        --secondary: #10b981;
        --accent: #f59e0b;
        --dark: #1f2937;
        --light: #f9fafb;
        --gray-light: #f3f4f6;
      }

      /* Custom Typography */
      body {
        font-family: "Inter",
          -apple-system,
          BlinkMacSystemFont,
          sans-serif;
        line-height: 1.5;
        color: var(
          --dark
        );
      }

      /* Focus ring and link hover (Josh Comeau style) */
      *:focus-visible {
        outline: 3px
          solid
          var(
            --accent
          );
        outline-offset: 2px;
      }
      .link-underline {
        position: relative;
      }
      .link-underline::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 2px;
        bottom: -2px;
        left: 0;
        background-color: currentColor;
        transform: scaleX(
          0
        );
        transform-origin: right;
        transition: transform
          0.3s ease;
      }
      .link-underline:hover::after {
        transform: scaleX(
          1
        );
        transform-origin: left;
      }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: var(
          --light
        );
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      /* Button styles */
      .btn-primary {
        background-color: var(
          --primary
        );
        color: white;
        padding: 0.75rem
          1.5rem;
        border-radius: 9999px;
        font-weight: 600;
        transition: all
          0.2s ease;
        position: relative;
        overflow: hidden;
        z-index: 1;
      }
      .btn-primary::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(
            255,
            255,
            255,
            0.2
          ),
          transparent
        );
        transition: left
          0.7s ease;
        z-index: -1;
      }
      .btn-primary:hover {
        transform: translateY(
          -2px
        );
        box-shadow: 0
          4px 12px
          rgba(
            59,
            130,
            246,
            0.3
          );
      }
      .btn-primary:hover::before {
        left: 100%;
      }
      .btn-secondary {
        background-color: var(
          --secondary
        );
        color: white;
        padding: 0.75rem
          1.5rem;
        border-radius: 9999px;
        font-weight: 600;
        transition: all
          0.2s ease;
      }
      .btn-secondary:hover {
        transform: translateY(
          -2px
        );
        box-shadow: 0
          4px 12px
          rgba(
            16,
            185,
            129,
            0.3
          );
      }

      /* Custom Keyframes for Animations */
      @keyframes slideUp {
        from {
          transform: translateY(
            40px
          );
          opacity: 0;
        }
        to {
          transform: translateY(
            0
          );
          opacity: 1;
        }
      }
      .animate-slideUp {
        animation: slideUp
          0.8s
          forwards;
      }
      @keyframes float {
        0% {
          transform: translateY(
              0
            )
            rotate(
              0deg
            );
        }
        50% {
          transform: translateY(
              -15px
            )
            rotate(
              5deg
            );
        }
        100% {
          transform: translateY(
              0
            )
            rotate(
              0deg
            );
        }
      }
      .animate-float {
        animation: float
          6s
          ease-in-out
          infinite;
      }

      /* Wiggle animation for the logo */
      @keyframes wiggle {
        0%,
        100% {
          transform: rotate(
            0deg
          );
        }
        25% {
          transform: rotate(
            5deg
          );
        }
        75% {
          transform: rotate(
            -5deg
          );
        }
      }
      .hover\:animate-wiggle:hover {
        animation: wiggle
          0.5s
          ease-in-out;
      }

      /* Fade in for nav items with stagger */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(
            -10px
          );
        }
        to {
          opacity: 1;
          transform: translateY(
            0
          );
        }
      }
      .nav-item {
        opacity: 0;
        animation: fadeIn
          0.6s
          forwards;
      }
      .nav-item:nth-child(
          1
        ) {
        animation-delay: 0.2s;
      }
      .nav-item:nth-child(
          2
        ) {
        animation-delay: 0.3s;
      }
      .nav-item:nth-child(
          3
        ) {
        animation-delay: 0.4s;
      }
      .nav-item:nth-child(
          4
        ) {
        animation-delay: 0.5s;
      }

      /* Blog card enhancements */
      .blog-card {
        transition: transform
            0.3s
            cubic-bezier(
              0.34,
              1.56,
              0.64,
              1
            ),
          box-shadow
            0.3s
            ease;
      }
      .blog-card:hover {
        transform: translateY(
            -8px
          )
          scale(
            1.02
          );
      }
      .blog-image {
        position: relative;
        overflow: hidden;
      }
      .blog-image::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          var(
            --primary
          ),
          var(
            --secondary
          )
        );
        opacity: 0.8;
        z-index: 1;
      }
      .blog-date {
        display: inline-block;
        font-size: 0.875rem;
        color: var(
          --primary
        );
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      /* Enhanced blog detail view */
      .blog-detail-container {
        max-width: 65ch;
        line-height: 1.7;
      }
      .blog-detail-container
        h1 {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 1rem;
        line-height: 1.2;
      }
      .blog-detail-container
        p {
        margin-bottom: 1.5rem;
      }

      /* Custom selection */
      ::selection {
        background-color: var(
          --accent
        );
        color: white;
      }
    </style>
  </head>
  <body
    class="bg-gray-50 text-gray-800"
  >
    <!-- Header Component in Josh Comeau Style -->
    <header
      id="header"
      class="sticky top-0 z-50 py-4 backdrop-blur-lg transition-all duration-500 relative"
    >
      <!-- Gradient border at top -->
      <div
        class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-pink-500 via-blue-500 to-green-400"
      ></div>
      <!-- Noise texture overlay for subtle texture -->
      <div
        class="absolute inset-0 bg-white bg-opacity-70"
        style="
          background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=');
        "
      ></div>

      <div
        class="max-w-7xl mx-auto px-6 relative flex items-center justify-between"
      >
        <!-- Logo with playful animation -->
        <a
          href="#"
          class="group relative"
        >
          <h1
            class="text-2xl font-bold relative z-10 transition-all duration-300 ease-out"
          >
            <span
              class="inline-block transition-transform duration-300 origin-bottom group-hover:-rotate-2"
              >M</span
            >
            <span
              class="inline-block transition-transform duration-300 delay-[25ms] origin-bottom group-hover:-rotate-1"
              >a</span
            >
            <span
              class="inline-block transition-transform duration-300 delay-[50ms] origin-bottom group-hover:rotate-1"
              >r</span
            >
            <span
              class="inline-block transition-transform duration-300 delay-[75ms] origin-bottom group-hover:rotate-2"
              >i</span
            >
            <span
              class="inline-block transition-transform duration-300 delay-[100ms] origin-bottom group-hover:rotate-3"
              >j</span
            >
            <span
              class="inline-block transition-transform duration-300 delay-[125ms] origin-bottom group-hover:rotate-2"
              >n</span
            >
            <span
              class="inline-block ml-2 transition-transform duration-300 delay-[150ms] origin-bottom group-hover:-rotate-3 text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-teal-400"
              >Baar</span
            >
          </h1>
          <!-- Playful blob shape behind the logo -->
          <div
            class="absolute -inset-1 bg-gradient-to-r from-pink-200 to-blue-200 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-500 group-hover:duration-200"
          ></div>
        </a>

        <!-- Animated Navigation Items -->
        <nav
          class="hidden md:flex items-center space-x-8"
        >
          <a
            href="#about"
            class="nav-item relative py-2 text-gray-800 font-medium group overflow-hidden link-underline"
            >About</a
          >
          <a
            href="#portfolio"
            class="nav-item relative py-2 text-gray-800 font-medium group overflow-hidden link-underline"
            >Portfolio</a
          >
          <a
            href="#blog"
            class="nav-item relative py-2 text-gray-800 font-medium group overflow-hidden link-underline"
            >Blog</a
          >
          <a
            href="#contact"
            class="nav-item relative py-2 text-gray-800 font-medium group overflow-hidden link-underline"
            >Contact</a
          >
        </nav>

        <!-- Theme Toggle, Auth, and New Post -->
        <div
          class="flex items-center gap-3"
        >
          <button
            id="theme-toggle"
            class="relative w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden group transition-all duration-300 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
            aria-label="Toggle dark mode"
          >
            <!-- Sun icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 text-yellow-500 transition-transform duration-500 rotate-0 group-[.dark]:rotate-[180deg] group-[.dark]:scale-0"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                clip-rule="evenodd"
              />
            </svg>
            <!-- Moon icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 text-blue-500 absolute transition-transform duration-500 rotate-[-180deg] scale-0 group-[.dark]:rotate-0 group-[.dark]:scale-100"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
              />
            </svg>
            <!-- Animated stars (only visible in dark mode) -->
            <span
              class="absolute top-2 right-2 w-1 h-1 rounded-full bg-yellow-300 opacity-0 group-[.dark]:opacity-70 transition-opacity duration-300 delay-100"
            ></span>
            <span
              class="absolute bottom-2 left-3 w-1 h-1 rounded-full bg-yellow-300 opacity-0 group-[.dark]:opacity-70 transition-opacity duration-300 delay-200"
            ></span>
            <span
              class="absolute top-3 left-2 w-0.5 h-0.5 rounded-full bg-yellow-300 opacity-0 group-[.dark]:opacity-70 transition-opacity duration-300 delay-300"
            ></span>
          </button>

          <!-- Auth Buttons Container -->
          <div
            id="auth-buttons"
            class="flex items-center gap-2"
          ></div>

          <!-- New Post Button -->
          <button
            id="new-blog-btn"
            class="hidden relative overflow-hidden group px-5 py-2 bg-gradient-to-br from-purple-500 to-pink-500 text-white font-medium rounded-full transition-all duration-300 hover:shadow-lg hover:shadow-pink-500/30 active:scale-95 active:duration-75"
            onclick="showNewBlogForm(event)"
          >
            <span
              class="relative z-10 flex items-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 mr-1.5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 4v16m8-8H4"
                />
              </svg>
              <span
                >New
                Post</span
              >
            </span>
            <span
              class="absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -translate-x-full group-hover:translate-x-full transition-all duration-700 ease-out"
            ></span>
          </button>
        </div>
        <!-- Mobile Menu Button -->
        <button
          id="menuBtn"
          class="md:hidden w-10 h-10 relative focus:outline-none"
        >
          <div
            class="block w-5 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2"
          >
            <span
              class="block absolute h-0.5 w-5 bg-gray-800 transform transition duration-300 ease-in-out"
            ></span>
            <span
              class="block absolute h-0.5 w-5 bg-gray-800 mt-1.5 transform transition duration-300 ease-in-out"
            ></span>
            <span
              class="block absolute h-0.5 w-5 bg-gray-800 mt-3 transform transition duration-300 ease-in-out"
            ></span>
          </div>
        </button>
      </div>
      <!-- Mobile Navigation -->
      <nav
        id="mobileNav"
        class="hidden mt-2 mx-4 overflow-hidden"
      >
        <div
          class="bg-white bg-opacity-90 backdrop-blur-md rounded-2xl shadow-xl border border-gray-100"
        >
          <ul
            class="divide-y divide-gray-100"
          >
            <li
              class="px-6 py-4 transform hover:translate-x-2 transition-transform duration-200"
            >
              <a
                href="#about"
                class="flex items-center text-lg text-gray-800 hover:text-blue-600"
                >About</a
              >
            </li>
            <li
              class="px-6 py-4 transform hover:translate-x-2 transition-transform duration-200"
            >
              <a
                href="#portfolio"
                class="flex items-center text-lg text-gray-800 hover:text-green-600"
                >Portfolio</a
              >
            </li>
            <li
              class="px-6 py-4 transform hover:translate-x-2 transition-transform duration-200"
            >
              <a
                href="#blog"
                class="flex items-center text-lg text-gray-800 hover:text-pink-600"
                >Blog</a
              >
            </li>
            <li
              class="px-6 py-4 transform hover:translate-x-2 transition-transform duration-200"
            >
              <a
                href="#contact"
                class="flex items-center text-lg text-gray-800 hover:text-purple-600"
                >Contact</a
              >
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <div
      id="main-content"
      class="pt-24"
    >
      <!-- Hero Section -->
      <section
        class="min-h-screen flex flex-col md:flex-row items-center px-4 md:px-8 py-20 relative overflow-hidden"
      >
        <!-- Floating Shapes -->
        <div
          class="absolute top-[-150px] right-[-100px] w-96 h-96 rounded-full bg-yellow-400 opacity-20 z-[-1] animate-float"
          style="
            animation-delay: 0s;
          "
        ></div>
        <div
          class="absolute bottom-[-100px] left-10 w-72 h-72 rounded-full bg-blue-600 opacity-10 z-[-1] animate-float"
          style="
            animation-delay: 2s;
          "
        ></div>
        <div
          class="absolute top-[20%] left-[-50px] w-40 h-40 rounded-full bg-green-500 opacity-15 z-[-1] animate-float"
          style="
            animation-delay: 4s;
          "
        ></div>

        <div
          class="flex-1 space-y-8"
        >
          <h1
            class="text-5xl md:text-6xl font-serif font-bold leading-tight"
          >
            <span
              class="block animate-slideUp"
              style="
                animation-delay: 0.1s;
              "
              >Programmer.</span
            >
            <span
              class="block animate-slideUp"
              style="
                animation-delay: 0.3s;
              "
              >Consultant.</span
            >
            <span
              class="block animate-slideUp text-blue-600"
              style="
                animation-delay: 0.5s;
              "
              >Innovator.</span
            >
          </h1>
          <p
            class="text-xl text-gray-600 max-w-lg animate-slideUp"
            style="
              animation-delay: 0.7s;
            "
          >
            Creating
            intuitive
            digital
            experiences
            powered
            by
            cutting-edge
            AI.
            Currently,
            I'm
            leading
            development
            on a
            retrieval-augmented
            generation
            system
            for
            Amsterdam's
            municipal
            services—combining
            advanced
            embedding
            models
            with
            sophisticated
            chunking
            techniques.
          </p>
          <a
            href="#contact"
            class="btn-primary inline-block animate-slideUp"
            style="
              animation-delay: 0.9s;
            "
            >Get in
            Touch</a
          >
        </div>
        <div
          class="flex-1 flex justify-center mt-12 md:mt-0 relative"
        >
          <div
            class="relative w-80 h-80 rounded-full overflow-hidden border-4 border-white shadow-2xl animate-slideUp"
            style="
              animation-delay: 0.5s;
            "
          >
            <img
              src="https://source.unsplash.com/500x500/?technology,developer"
              alt="Marijn Baar"
              class="w-full h-full object-cover"
            />
          </div>
          <!-- Floating Tech Icons -->
          <div
            class="hidden md:flex items-center justify-center absolute top-16 left-8 w-16 h-16 bg-white rounded-lg shadow-lg text-blue-600 text-2xl animate-float"
            style="
              animation-delay: 0.5s;
              box-shadow: 0
                10px
                25px
                rgba(
                  59,
                  130,
                  246,
                  0.3
                );
            "
          >
            <i
              class="fab fa-react"
            ></i>
          </div>
          <div
            class="hidden md:flex items-center justify-center absolute bottom-20 right-8 w-20 h-20 bg-white rounded-lg shadow-lg text-green-500 text-3xl animate-float"
            style="
              animation-delay: 1.5s;
              box-shadow: 0
                10px
                25px
                rgba(
                  16,
                  185,
                  129,
                  0.3
                );
            "
          >
            <i
              class="fab fa-node-js"
            ></i>
          </div>
          <div
            class="hidden md:flex items-center justify-center absolute top-40 right-0 w-14 h-14 bg-white rounded-lg shadow-lg text-yellow-500 text-2xl animate-float"
            style="
              animation-delay: 2.5s;
              box-shadow: 0
                10px
                25px
                rgba(
                  245,
                  158,
                  11,
                  0.3
                );
            "
          >
            <i
              class="fab fa-python"
            ></i>
          </div>
        </div>
      </section>

      <!-- About Section -->
      <section
        id="about"
        class="py-20 bg-white relative"
      >
        <div
          class="absolute inset-0 bg-gradient-to-b from-gray-50 to-white opacity-50"
        ></div>
        <div
          class="max-w-6xl mx-auto px-4 relative"
        >
          <div
            class="text-center mb-12"
          >
            <span
              class="inline-block py-1 px-3 rounded-full bg-blue-100 text-blue-600 text-sm font-semibold mb-3"
              >About
              Me</span
            >
            <h2
              class="text-4xl font-bold mb-3"
            >
              The
              Story
              So Far
            </h2>
            <div
              class="h-1 w-20 bg-gradient-to-r from-blue-600 to-green-500 mx-auto"
            ></div>
          </div>
          <p
            class="max-w-3xl mx-auto text-center text-xl text-gray-600 mb-10 leading-relaxed"
          >
            I'm
            Marijn
            Baar – a
            versatile
            full‑stack
            developer
            and
            technology
            consultant
            with
            over 8
            years of
            experience
            crafting
            digital
            solutions.
            My
            expertise
            lies at
            the
            intersection
            of
            artificial
            intelligence,
            cloud
            architecture,
            and
            modern
            web
            development.
          </p>
          <div
            class="text-gray-700 space-y-6 max-w-3xl mx-auto"
          >
            <p
              class="leading-relaxed"
            >
              In my
              current
              role
              with
              the
              City
              of
              Amsterdam,
              I'm
              spearheading
              the
              development
              of a
              retrieval-augmented
              generation
              (RAG)
              system
              that
              leverages
              state-of-the-art
              large
              language
              models.
              This
              project
              involves
              advanced
              embedding
              techniques
              and
              optimized
              chunking
              strategies
              to
              address
              real‑world
              municipal
              challenges.
            </p>
            <p
              class="leading-relaxed"
            >
              My
              technical
              background
              includes
              extensive
              work
              with
              Azure
              Cloud
              technologies,
              including
              Serverless
              architecture,
              Entra
              ID,
              Azure
              Machine
              Learning,
              and
              PostgreSQL
              database
              management.
              Beyond
              technical
              skills,
              I
              bring
              strong
              leadership
              capabilities,
              guiding
              cross‑functional
              teams
              with
              an
              emphasis
              on
              both
              security
              and
              creative
              problem-solving.
            </p>
            <p
              class="leading-relaxed"
            >
              With
              expertise
              in
              Python
              development,
              DevSecOps
              principles,
              and
              Agile
              methodologies,
              I
              continually
              refine
              processes
              and
              cultivate
              high‑performing
              teams
              that
              deliver
              exceptional
              results.
            </p>
          </div>
        </div>
      </section>

      <!-- Portfolio Section -->
      <section
        id="portfolio"
        class="py-20 bg-gray-50 relative"
      >
        <div
          class="max-w-6xl mx-auto px-4 relative"
        >
          <div
            class="text-center mb-12"
          >
            <span
              class="inline-block py-1 px-3 rounded-full bg-green-100 text-green-600 text-sm font-semibold mb-3"
              >Projects</span
            >
            <h2
              class="text-4xl font-bold mb-3"
            >
              My
              Recent
              Work
            </h2>
            <div
              class="h-1 w-20 bg-gradient-to-r from-blue-600 to-green-500 mx-auto"
            ></div>
          </div>
          <p
            class="text-center max-w-2xl mx-auto text-lg text-gray-600 mb-12"
          >
            Explore
            a
            selection
            of
            projects
            that
            showcase
            my
            approach
            to
            solving
            complex
            challenges
            through
            innovative
            technical
            solutions.
          </p>
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
          >
            <!-- Portfolio Item 1 -->
            <div
              class="hover-card bg-white rounded-xl shadow-md overflow-hidden group"
            >
              <div
                class="relative h-52 overflow-hidden"
              >
                <img
                  src="https://source.unsplash.com/600x400/?environment,cloud"
                  alt="Amsterdam Eco-Hackathon Challenge"
                  class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                />
                <div
                  class="absolute top-3 right-3 bg-white bg-opacity-90 rounded-full p-2 shadow-md"
                >
                  <i
                    class="fas fa-leaf text-green-500"
                  ></i>
                </div>
                <div
                  class="absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-0 group-hover:opacity-60 transition-opacity duration-300"
                ></div>
              </div>
              <div
                class="p-6"
              >
                <h3
                  class="text-xl font-bold mb-2 group-hover:text-blue-600 transition-colors"
                >
                  Amsterdam
                  Eco-Hackathon
                  Challenge
                </h3>
                <p
                  class="text-gray-600 text-sm mb-4"
                >
                  Leading
                  a
                  collaborative
                  innovation
                  event
                  focused
                  on
                  optimizing
                  cloud
                  infrastructure
                  for
                  environmental
                  sustainability—bringing
                  together
                  technologists
                  and
                  environmental
                  experts
                  to
                  create
                  impactful
                  solutions.
                </p>
                <div
                  class="flex flex-wrap gap-2 mb-4"
                >
                  <span
                    class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-medium"
                    >Sustainability</span
                  >
                  <span
                    class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-medium"
                    >Cloud</span
                  >
                  <span
                    class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-xs font-medium"
                    >Hackathon</span
                  >
                </div>
                <a
                  href="#"
                  class="btn-secondary inline-flex items-center text-sm"
                >
                  <span
                    >View
                    Details</span
                  >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 ml-1"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M14 5l7 7m0 0l-7 7m7-7H3"
                    />
                  </svg>
                </a>
              </div>
            </div>
            <!-- Portfolio Item 2 -->
            <div
              class="hover-card bg-white rounded-xl shadow-md overflow-hidden group"
            >
              <div
                class="relative h-52 overflow-hidden"
              >
                <img
                  src="https://source.unsplash.com/600x400/?chat,ai"
                  alt="ChatAmsterdam"
                  class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                />
                <div
                  class="absolute top-3 right-3 bg-white bg-opacity-90 rounded-full p-2 shadow-md"
                >
                  <i
                    class="fas fa-comments text-blue-600"
                  ></i>
                </div>
                <div
                  class="absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-0 group-hover:opacity-60 transition-opacity duration-300"
                ></div>
              </div>
              <div
                class="p-6"
              >
                <h3
                  class="text-xl font-bold mb-2 group-hover:text-blue-600 transition-colors"
                >
                  ChatAmsterdam
                </h3>
                <p
                  class="text-gray-600 text-sm mb-4"
                >
                  Developing
                  an
                  intelligent
                  conversational
                  interface
                  for
                  municipal
                  employees
                  that
                  streamlines
                  internal
                  communication
                  and
                  enhances
                  citizen
                  service
                  delivery
                  through
                  natural
                  language
                  processing.
                </p>
                <div
                  class="flex flex-wrap gap-2 mb-4"
                >
                  <span
                    class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-medium"
                    >Chatbot</span
                  >
                  <span
                    class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-medium"
                    >AI</span
                  >
                  <span
                    class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-xs font-medium"
                    >Municipal</span
                  >
                </div>
                <a
                  href="#"
                  class="btn-secondary inline-flex items-center text-sm"
                >
                  <span
                    >View
                    Details</span
                  >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 ml-1"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M14 5l7 7m0 0l-7 7m7-7H3"
                    />
                  </svg>
                </a>
              </div>
            </div>
            <!-- Portfolio Item 3 -->
            <div
              class="hover-card bg-white rounded-xl shadow-md overflow-hidden group"
            >
              <div
                class="relative h-52 overflow-hidden"
              >
                <img
                  src="https://source.unsplash.com/600x400/?openai,cloud"
                  alt="FBAI Azure OpenAI Deployment"
                  class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                />
                <div
                  class="absolute top-3 right-3 bg-white bg-opacity-90 rounded-full p-2 shadow-md"
                >
                  <i
                    class="fas fa-brain text-yellow-500"
                  ></i>
                </div>
                <div
                  class="absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-0 group-hover:opacity-60 transition-opacity duration-300"
                ></div>
              </div>
              <div
                class="p-6"
              >
                <h3
                  class="text-xl font-bold mb-2 group-hover:text-blue-600 transition-colors"
                >
                  FBAI
                  Azure
                  OpenAI
                  Deployment
                </h3>
                <p
                  class="text-gray-600 text-sm mb-4"
                >
                  Architecting
                  and
                  implementing
                  a
                  secure,
                  cost‑optimized
                  deployment
                  for
                  a
                  functional
                  administration
                  assistant
                  utilizing
                  Azure
                  OpenAI
                  services—with
                  an
                  emphasis
                  on
                  data
                  privacy
                  and
                  operational
                  efficiency.
                </p>
                <div
                  class="flex flex-wrap gap-2 mb-4"
                >
                  <span
                    class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-medium"
                    >Azure</span
                  >
                  <span
                    class="bg-teal-100 text-teal-700 px-3 py-1 rounded-full text-xs font-medium"
                    >OpenAI</span
                  >
                  <span
                    class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-xs font-medium"
                    >Deployment</span
                  >
                </div>
                <a
                  href="#"
                  class="btn-secondary inline-flex items-center text-sm"
                >
                  <span
                    >View
                    Details</span
                  >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 ml-1"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M14 5l7 7m0 0l-7 7m7-7H3"
                    />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Blog Section -->
      <section
        id="blog"
        class="py-20 bg-white"
      >
        <div
          class="max-w-6xl mx-auto px-4"
        >
          <div
            class="text-center mb-12"
          >
            <span
              class="inline-block py-1 px-3 rounded-full bg-blue-100 text-blue-600 text-sm font-semibold mb-3"
              >Blog</span
            >
            <h2
              class="text-4xl font-bold mb-3"
            >
              From
              My
              Blog
            </h2>
            <div
              class="h-1 w-20 bg-gradient-to-r from-blue-600 to-green-500 mx-auto"
            ></div>
          </div>
          <p
            class="text-center max-w-2xl mx-auto text-lg text-gray-600 mb-12"
          >
            I share
            insights,
            tutorials,
            and
            reflections
            on web
            development,
            emerging
            technologies,
            and
            industry
            best
            practices.
          </p>
          <div
            class="blog-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
          >
            <!-- Blog posts will be rendered dynamically via JavaScript -->
          </div>
        </div>
      </section>

      <!-- Blog Post Detail Container -->
      <div
        id="blog-post-container"
        class="max-w-4xl mx-auto my-20 px-4 hidden"
      >
        <button
          class="mb-8 inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors"
          onclick="hideBlogDetail()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 19l-7-7m0 0l7-7m-7 7h18"
            />
          </svg>
          Back to
          Blog
        </button>
        <div
          class="bg-white shadow-xl rounded-2xl overflow-hidden"
        >
          <div
            class="px-8 py-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white"
          >
            <h1
              id="detail-title"
              class="text-3xl md:text-4xl font-bold leading-tight"
            ></h1>
          </div>
          <div
            id="detail-content"
            class="blog-detail-container p-8 prose prose-lg max-w-none"
          ></div>
        </div>
      </div>

      <!-- Contact Section -->
      <section
        id="contact"
        class="py-20 bg-gray-50"
      >
        <div
          class="max-w-6xl mx-auto px-4"
        >
          <div
            class="text-center mb-12"
          >
            <span
              class="inline-block py-1 px-3 rounded-full bg-yellow-100 text-yellow-600 text-sm font-semibold mb-3"
              >Contact</span
            >
            <h2
              class="text-4xl font-bold mb-3"
            >
              Get In
              Touch
            </h2>
            <div
              class="h-1 w-20 bg-gradient-to-r from-blue-600 to-green-500 mx-auto"
            ></div>
          </div>
          <p
            class="text-center max-w-2xl mx-auto text-lg text-gray-600 mb-10"
          >
            Have a
            project
            in mind?
            Let's
            connect
            and
            discuss
            how I
            can help
            transform
            your
            ideas
            into
            reality.
          </p>
          <div
            class="grid grid-cols-1 md:grid-cols-2 gap-8"
          >
            <!-- Contact Info -->
            <div
              class="space-y-6"
            >
              <div
                class="flex items-center space-x-4"
              >
                <div
                  class="p-4 bg-white rounded-lg shadow-md"
                >
                  <i
                    class="fas fa-envelope text-blue-700 text-2xl"
                  ></i>
                </div>
                <div>
                  <h3
                    class="text-xl font-bold"
                  >
                    Email
                  </h3>
                  <p
                    class="text-gray-600"
                  >
                    hello@marijnbaar.com
                  </p>
                </div>
              </div>
              <div
                class="flex items-center space-x-4"
              >
                <div
                  class="p-4 bg-white rounded-lg shadow-md"
                >
                  <i
                    class="fas fa-phone text-blue-700 text-2xl"
                  ></i>
                </div>
                <div>
                  <h3
                    class="text-xl font-bold"
                  >
                    Phone
                  </h3>
                  <p
                    class="text-gray-600"
                  >
                    +1
                    (555)
                    123-4567
                  </p>
                </div>
              </div>
              <div
                class="flex items-center space-x-4"
              >
                <div
                  class="p-4 bg-white rounded-lg shadow-md"
                >
                  <i
                    class="fas fa-map-marker-alt text-blue-700 text-2xl"
                  ></i>
                </div>
                <div>
                  <h3
                    class="text-xl font-bold"
                  >
                    Location
                  </h3>
                  <p
                    class="text-gray-600"
                  >
                    Amsterdam,
                    Netherlands
                  </p>
                </div>
              </div>
            </div>
            <!-- Contact Form -->
            <form
              class="bg-white p-6 rounded-lg shadow-md space-y-4"
            >
              <div>
                <label
                  class="block text-gray-700 font-semibold mb-1"
                  for="name"
                  >Your
                  Name</label
                >
                <input
                  type="text"
                  id="name"
                  placeholder="John Doe"
                  class="w-full p-3 border border-gray-300 rounded"
                />
              </div>
              <div>
                <label
                  class="block text-gray-700 font-semibold mb-1"
                  for="email"
                  >Email
                  Address</label
                >
                <input
                  type="email"
                  id="email"
                  placeholder="john@example.com"
                  class="w-full p-3 border border-gray-300 rounded"
                />
              </div>
              <div>
                <label
                  class="block text-gray-700 font-semibold mb-1"
                  for="subject"
                  >Subject</label
                >
                <input
                  type="text"
                  id="subject"
                  placeholder="Project Inquiry"
                  class="w-full p-3 border border-gray-300 rounded"
                />
              </div>
              <div>
                <label
                  class="block text-gray-700 font-semibold mb-1"
                  for="message"
                  >Message</label
                >
                <textarea
                  id="message"
                  placeholder="Tell me about your project..."
                  class="w-full p-3 border border-gray-300 rounded"
                ></textarea>
              </div>
              <button
                type="submit"
                class="bg-blue-700 text-white px-6 py-3 rounded-full hover:bg-blue-600 transition w-full"
              >
                Send
                Message
              </button>
            </form>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer
        class="bg-gray-900 text-white pt-12 pb-6 relative"
      >
        <div
          class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-700 to-green-500"
        ></div>
        <div
          class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8"
        >
          <div>
            <h3
              class="text-xl font-bold mb-4"
            >
              Marijn
              Baar
            </h3>
            <p
              class="text-gray-400"
            >
              Creating
              elegant,
              efficient,
              and
              effective
              web
              solutions
              to
              help
              organizations
              thrive
              in the
              digital
              landscape.
            </p>
            <div
              class="flex space-x-4 mt-4"
            >
              <a
                href="#"
                class="w-10 h-10 rounded-full bg-white bg-opacity-10 flex items-center justify-center text-white hover:bg-green-500 transition"
              >
                <i
                  class="fab fa-github"
                ></i>
              </a>
              <a
                href="#"
                class="w-10 h-10 rounded-full bg-white bg-opacity-10 flex items-center justify-center text-white hover:bg-green-500 transition"
              >
                <i
                  class="fab fa-twitter"
                ></i>
              </a>
              <a
                href="#"
                class="w-10 h-10 rounded-full bg-white bg-opacity-10 flex items-center justify-center text-white hover:bg-green-500 transition"
              >
                <i
                  class="fab fa-linkedin-in"
                ></i>
              </a>
              <a
                href="#"
                class="w-10 h-10 rounded-full bg-white bg-opacity-10 flex items-center justify-center text-white hover:bg-green-500 transition"
              >
                <i
                  class="fab fa-dribbble"
                ></i>
              </a>
            </div>
          </div>
          <div>
            <h4
              class="text-lg font-semibold mb-3"
            >
              Quick
              Links
            </h4>
            <ul
              class="space-y-2"
            >
              <li>
                <a
                  href="#about"
                  class="hover:text-white"
                  >About
                  Me</a
                >
              </li>
              <li>
                <a
                  href="#portfolio"
                  class="hover:text-white"
                  >Portfolio</a
                >
              </li>
              <li>
                <a
                  href="#blog"
                  class="hover:text-white"
                  >Blog</a
                >
              </li>
              <li>
                <a
                  href="#contact"
                  class="hover:text-white"
                  >Contact</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4
              class="text-lg font-semibold mb-3"
            >
              Services
            </h4>
            <ul
              class="space-y-2"
            >
              <li>
                <a
                  href="#"
                  class="hover:text-white"
                  >Web
                  Development</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="hover:text-white"
                  >Mobile
                  Apps</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="hover:text-white"
                  >UX/UI
                  Design</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="hover:text-white"
                  >Consulting</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4
              class="text-lg font-semibold mb-3"
            >
              Stay
              Updated
            </h4>
            <p
              class="text-gray-400 mb-3"
            >
              Subscribe
              to my
              newsletter
              for
              the
              latest
              articles,
              tutorials,
              and
              project
              updates.
            </p>
            <form
              class="flex"
            >
              <input
                type="email"
                placeholder="Your email address"
                class="flex-grow p-2 rounded-l border-none text-white"
              />
              <button
                type="submit"
                class="bg-yellow-400 text-dark px-4 py-2 rounded-r"
              >
                <i
                  class="fas fa-paper-plane"
                ></i>
              </button>
            </form>
          </div>
        </div>
        <p
          class="text-center mt-8 text-gray-500 text-sm"
        >
          &copy;
          2025
          Marijn
          Baar. All
          rights
          reserved.
        </p>
      </footer>
    </div>

    <!-- New Blog Form (for Authenticated Users) -->
    <div
      id="new-blog-form"
      class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50"
    >
      <div
        class="bg-white p-6 rounded-md w-11/12 max-w-xl relative"
      >
        <a
          href="#"
          class="text-blue-700 font-semibold mb-4 block"
          onclick="backToMain(event)"
          >&larr;
          Back to
          Home</a
        >
        <h1
          class="text-3xl font-bold mb-6"
        >
          Create New
          Blog Post
        </h1>
        <form
          id="blog-form"
          class="space-y-4"
        >
          <div>
            <label
              class="block text-gray-700 font-medium mb-2"
              for="blog-title"
              >Title</label
            >
            <input
              type="text"
              id="blog-title"
              required
              class="w-full p-3 border border-gray-300 rounded"
            />
          </div>
          <div>
            <label
              class="block text-gray-700 font-medium mb-2"
              for="blog-content"
              >Content</label
            >
            <textarea
              id="blog-content"
              required
              class="w-full p-3 border border-gray-300 rounded"
              rows="6"
            ></textarea>
          </div>
          <button
            type="submit"
            class="w-full bg-blue-700 hover:bg-blue-600 text-white py-3 rounded transition"
          >
            Publish
            Post
          </button>
        </form>
      </div>
    </div>

    <!-- JavaScript: Functional Code -->
    <script>
      // Mobile nav toggle
      const menuBtn =
        document.getElementById(
          "menuBtn",
        );
      const mobileNav =
        document.getElementById(
          "mobileNav",
        );
      menuBtn.addEventListener(
        "click",
        () => {
          menuBtn.classList.toggle(
            "opened",
          );
          if (
            mobileNav.classList.contains(
              "hidden",
            )
          ) {
            mobileNav.classList.remove(
              "hidden",
            );
            mobileNav.style.maxHeight =
              "0";
            mobileNav.style.opacity =
              "0";
            mobileNav.style.transition =
              "max-height 0.5s ease-out, opacity 0.3s ease-out";
            mobileNav.offsetHeight;
            const height =
              mobileNav.scrollHeight;
            mobileNav.style.maxHeight = `${height}px`;
            mobileNav.style.opacity =
              "1";
          } else {
            mobileNav.style.maxHeight =
              "0";
            mobileNav.style.opacity =
              "0";
            setTimeout(
              () => {
                mobileNav.classList.add(
                  "hidden",
                );
              },
              500,
            );
          }
        },
      );

      // ----- Authentication & Blog Management Functions -----
      async function updateAuthButtons() {
        const authButtons =
          document.getElementById(
            "auth-buttons",
          );
        const token =
          localStorage.getItem(
            "token",
          );
        if (token) {
          authButtons.innerHTML =
            '<button class="bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-600 transition" onclick="logoutUser()">Logout</button>';
          document.getElementById(
            "new-blog-btn",
          ).style.display =
            "inline-block";
        } else {
          authButtons.innerHTML =
            '<button class="bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-600 transition" onclick="openLoginModal()">Login</button>';
          document.getElementById(
            "new-blog-btn",
          ).style.display =
            "none";
        }
        await loadBlogPosts();
      }

      function openLoginModal() {
        document
          .getElementById(
            "login-modal",
          )
          .classList.remove(
            "hidden",
          );
      }

      function closeLoginModal() {
        document
          .getElementById(
            "login-modal",
          )
          .classList.add(
            "hidden",
          );
      }

      async function loginUser() {
        const username =
          document.getElementById(
            "loginUsername",
          ).value;
        const password =
          document.getElementById(
            "loginPassword",
          ).value;
        try {
          const response =
            await fetch(
              "https://personalsite-2xti.onrender.com/api/auth/login",
              {
                method:
                  "POST",
                headers:
                  {
                    "Content-Type":
                      "application/json",
                  },
                body: JSON.stringify(
                  {
                    username,
                    password,
                  },
                ),
              },
            );
          const data =
            await response.json();
          if (
            data.token
          ) {
            localStorage.setItem(
              "token",
              data.token,
            );
            alert(
              "Logged in successfully!",
            );
            closeLoginModal();
            updateAuthButtons();
          } else {
            alert(
              "Login failed: " +
                (data.error ||
                  "Unknown error"),
            );
          }
        } catch (error) {
          console.error(
            "Login error:",
            error,
          );
          alert(
            "An error occurred during login.",
          );
        }
      }

      async function logoutUser() {
        localStorage.removeItem(
          "token",
        );
        alert(
          "Logged out",
        );
        updateAuthButtons();
      }

      async function loadBlogPosts() {
        try {
          const response =
            await fetch(
              "https://personalsite-2xti.onrender.com/api/blogposts",
            );
          const posts =
            await response.json();
          renderBlogPosts(
            posts,
          );
        } catch (error) {
          console.error(
            "Error loading blog posts:",
            error,
          );
        }
      }

      function renderBlogPosts(
        posts,
      ) {
        const blogGrid =
          document.querySelector(
            ".blog-grid",
          );
        blogGrid.innerHTML =
          "";
        posts.forEach(
          (
            post,
          ) => {
            const blogCard =
              document.createElement(
                "div",
              );
            blogCard.className =
              "blog-card bg-white rounded-lg shadow-lg overflow-hidden flex flex-col transform transition duration-300 hover:-translate-y-2";
            blogCard.setAttribute(
              "data-id",
              post._id,
            );
            blogCard.innerHTML = `
            <div class="blog-image relative h-48 overflow-hidden">
              <div class="absolute inset-0 bg-blue-700 opacity-80"></div>
              <div class="absolute inset-0 flex items-center justify-center text-white text-5xl z-10">
                ${post.title.charAt(
                  0,
                )}
              </div>
            </div>
            <div class="blog-content p-4 flex-grow flex flex-col">
              <span class="blog-date text-sm text-gray-500 mb-1">${
                post.date ||
                "Unknown Date"
              }</span>
              <h3 class="blog-title text-xl font-bold mb-2">${
                post.title
              }</h3>
              <p class="blog-excerpt flex-grow text-gray-600">${post.content.substring(
                0,
                100,
              )}...</p>
              <a href="#" class="bg-blue-700 text-white px-4 py-2 rounded-full text-sm hover:bg-blue-600 transition mt-4" onclick="showBlogDetail('${
                post.title
              }', \`${
              post.content
            }\`)">Read More</a>
            </div>
          `;
            if (
              localStorage.getItem(
                "token",
              )
            ) {
              const delBtn =
                document.createElement(
                  "button",
                );
              delBtn.className =
                "bg-red-600 text-white px-4 py-2 rounded-full text-sm mt-2 self-start hover:bg-red-700 transition";
              delBtn.innerText =
                "Delete";
              delBtn.onclick =
                () =>
                  deletePost(
                    post._id,
                  );
              blogCard
                .querySelector(
                  ".blog-content",
                )
                .appendChild(
                  delBtn,
                );
            }
            blogGrid.appendChild(
              blogCard,
            );
          },
        );
      }

      function showBlogDetail(
        title,
        content,
      ) {
        document.getElementById(
          "detail-title",
        ).textContent =
          title;
        document.getElementById(
          "detail-content",
        ).innerHTML =
          content;
        document
          .querySelector(
            ".blog-grid",
          )
          .classList.add(
            "hidden",
          );
        document
          .getElementById(
            "blog-post-container",
          )
          .classList.remove(
            "hidden",
          );
        window.scrollTo(
          {
            top: 0,
            behavior:
              "smooth",
          },
        );
      }

      function hideBlogDetail() {
        document
          .querySelector(
            ".blog-grid",
          )
          .classList.remove(
            "hidden",
          );
        document
          .getElementById(
            "blog-post-container",
          )
          .classList.add(
            "hidden",
          );
      }

      async function submitBlogPost(
        event,
      ) {
        event.preventDefault();
        const titleInput =
          document.getElementById(
            "blog-title",
          );
        const contentInput =
          document.getElementById(
            "blog-content",
          );
        const title =
          titleInput.value.trim();
        const content =
          contentInput.value.trim();
        const token =
          localStorage.getItem(
            "token",
          );
        if (
          !token
        ) {
          alert(
            "You must be logged in to create a post",
          );
          return;
        }
        try {
          const response =
            await fetch(
              "https://personalsite-2xti.onrender.com/api/blogposts",
              {
                method:
                  "POST",
                headers:
                  {
                    "Content-Type":
                      "application/json",
                    Authorization: `Bearer ${token}`,
                  },
                body: JSON.stringify(
                  {
                    title,
                    content,
                  },
                ),
              },
            );
          if (
            response.ok
          ) {
            alert(
              "Blog post created successfully!",
            );
            titleInput.value =
              "";
            contentInput.value =
              "";
            backToMain(
              {
                preventDefault:
                  () => {},
              },
            );
            loadBlogPosts();
          } else {
            const result =
              await response.json();
            alert(
              "Error creating post: " +
                (result.error ||
                  "Unknown error"),
            );
          }
        } catch (error) {
          console.error(
            "Error creating post:",
            error,
          );
          alert(
            "An error occurred while creating the post.",
          );
        }
      }

      async function deletePost(
        postId,
      ) {
        if (
          !confirm(
            "Are you sure you want to delete this post?",
          )
        )
          return;
        const token =
          localStorage.getItem(
            "token",
          );
        try {
          const response =
            await fetch(
              `https://personalsite-2xti.onrender.com/api/blogposts/${postId}`,
              {
                method:
                  "DELETE",
                headers:
                  {
                    Authorization: `Bearer ${token}`,
                  },
              },
            );
          if (
            response.ok
          ) {
            alert(
              "Post deleted successfully!",
            );
            loadBlogPosts();
          } else {
            const result =
              await response.json();
            alert(
              "Error deleting post: " +
                (result.error ||
                  "Unknown error"),
            );
          }
        } catch (error) {
          console.error(
            "Error deleting post:",
            error,
          );
          alert(
            "An error occurred while deleting the post.",
          );
        }
      }

      function showNewBlogForm(
        event,
      ) {
        event.preventDefault();
        document
          .getElementById(
            "main-content",
          )
          .classList.add(
            "hidden",
          );
        document
          .getElementById(
            "new-blog-form",
          )
          .classList.remove(
            "hidden",
          );
      }

      function backToMain(
        event,
      ) {
        event.preventDefault();
        document
          .getElementById(
            "new-blog-form",
          )
          .classList.add(
            "hidden",
          );
        document
          .getElementById(
            "main-content",
          )
          .classList.remove(
            "hidden",
          );
      }

      function init() {
        updateAuthButtons();
        document
          .getElementById(
            "blog-form",
          )
          .addEventListener(
            "submit",
            submitBlogPost,
          );
      }

      window.addEventListener(
        "DOMContentLoaded",
        init,
      );

      window.onclick =
        function (
          event,
        ) {
          const modal =
            document.getElementById(
              "login-modal",
            );
          if (
            event.target ===
            modal
          ) {
            modal.classList.add(
              "hidden",
            );
          }
        };
    </script>
  </body>
</html>
